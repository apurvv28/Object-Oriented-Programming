package prac13;
import java.util.*;

class Publication {
    String title;
    double price;
    int copies;
    
    Publication(String title, double price, int copies) {
        this.title = title;
        this.price = price;
        this.copies = copies;
    }
    
    void saleCopy(int qty) {
        if (qty <= copies) {
            copies -= qty;
            System.out.println("Sold " + qty + " copies of " + title);
        } else {
            System.out.println("Insufficient copies available");
        }
    }
    
    double getTotalSale() {
        return (this.copies * this.price);
    }
}

class Book extends Publication {
    String author;
    
    Book(String title, double price, int copies, String author) {
        super(title, price, copies);
        this.author = author;
    }
    
    void orderCopies(int qty) {
        copies += qty;
        System.out.println("Ordered " + qty + " more copies of " + title);
    }
}

class Magazine extends Publication {
    String currentIssue;
    
    Magazine(String title, double price, int copies, String currentIssue) {
        super(title, price, copies);
        this.currentIssue = currentIssue;
    }
    
    void orderQty(int qty) {
        copies += qty;
        System.out.println("Ordered " + qty + " copies of magazine " + title);
    }
    
    void receiveIssue(String newIssue) {
        currentIssue = newIssue;
        System.out.println("Received new issue: " + newIssue);
    }
}

public class Main {
    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);
        
        System.out.print("Enter number of books: ");
        int numBooks = scanner.nextInt();
        scanner.nextLine();
        
        System.out.print("Enter number of magazines: ");
        int numMagazines = scanner.nextInt();
        scanner.nextLine();
        
        Book[] books = new Book[numBooks];
        Magazine[] magazines = new Magazine[numMagazines];
        
        for (int i = 0; i < numBooks; i++) {
            System.out.println("\nEnter details for Book " + (i + 1) + ":");
            System.out.print("Title: ");
            String title = scanner.nextLine();
            System.out.print("Price: ");
            double price = scanner.nextDouble();
            System.out.print("Copies: ");
            int copies = scanner.nextInt();
            scanner.nextLine();
            System.out.print("Author: ");
            String author = scanner.nextLine();
            
            books[i] = new Book(title, price, copies, author);
        }
        
        for (int i = 0; i < numMagazines; i++) {
            System.out.println("\nEnter details for Magazine " + (i + 1) + ":");
            System.out.print("Title: ");
            String title = scanner.nextLine();
            System.out.print("Price: ");
            double price = scanner.nextDouble();
            System.out.print("Copies: ");
            int copies = scanner.nextInt();
            scanner.nextLine();
            System.out.print("Current Issue: ");
            String currentIssue = scanner.nextLine();
            
            magazines[i] = new Magazine(title, price, copies, currentIssue);
        }
        
        for (Book book : books) {
            System.out.print("\nEnter number of copies to order for '" + book.title + "': ");
            int orderQty = scanner.nextInt();
            book.orderCopies(orderQty);
            
            System.out.print("Enter number of copies to sell for '" + book.title + "': ");
            int saleQty = scanner.nextInt();
            book.saleCopy(saleQty);
        }
        
        for (Magazine magazine : magazines) {
            System.out.print("\nEnter number of copies to order for '" + magazine.title + "': ");
            int orderQty = scanner.nextInt();
            magazine.orderQty(orderQty);
            
            System.out.print("Enter number of copies to sell for '" + magazine.title + "': ");
            int saleQty = scanner.nextInt();
            magazine.saleCopy(saleQty);
            
            scanner.nextLine();
            System.out.print("Enter new issue for '" + magazine.title + "': ");
            String newIssue = scanner.nextLine();
            magazine.receiveIssue(newIssue);
        }
        
        double totalSale = 0;
        for (Book book : books) {
            totalSale += book.getTotalSale();
        }
        for (Magazine magazine : magazines) {
            totalSale += magazine.getTotalSale();
        }
        
        System.out.println("\nTotal sale of all publications: $" + totalSale);
        scanner.close();
    }
}